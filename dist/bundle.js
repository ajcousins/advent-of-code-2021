/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/day16/input.txt":
/*!*****************************!*\
  !*** ./src/day16/input.txt ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("220D69802BE00A0803711E1441B1006E39C318A12730C200DCE66D2CCE360FA0055652CD32966E3004677EDF600B0803B1361741510076254138D8A00E4FFF3E3393ABE4FC7AC10410010799D2A4430003764DBE281802F3102CA00D4840198430EE0E00021D04E3F41F84AE0154DFDE65A17CCBFAFA14ADA56854FE5E3FD5BCC53B0D2598027A00848C63F2B918C7E513DEC3290051B3867E009CCC5FE46BD520007FE5E8AD344B37583D0803E40085475887144C01A8C10FE2B9803B0720D45A3004652FD8FA05F80122CAF91E5F50E66BEF8AB000BB0F4802039C20917B920B9221200ABF0017B9C92CCDC76BD3A8C4012CCB13CB22CDB243E9C3D2002067440400D9BE62DAC4D2DC0249BF76B6F72BE459B279F759AE7BE42E0058801CC059B08018A0070012CEC045BA01006C03A8000D46C02FA000A8EA007200800E00618018E00410034220061801D36BF178C01796FC52B4017100763547E86000084C7E8910AC0027E9B029FE2F4952F96D81B34C8400C24AA8CDAF4F1E98027C00FACDE3BA86982570D13AA640195CD67B046F004662711E989C468C01F1007A10C4C8320008742287117C401A8C715A3FC2C8EB3777540048272DFE7DE1C0149AC8BC9E79D63200B674013978E8BE5E3A2E9AA3CCDD538C01193CFAB0A146006AA00087C3E88B130401D8E304A239802F39FAC922C0169EA3248DF2D600247C89BCDFE9CA7FFD8BB49686236C9FF9795D80C0139BEC4D6C017978CF78C5EB981FCE7D4D801FA9FB63B14789534584010B5802F3467346D2C1D1E080355B00424FC99290C7E5D729586504803A2D005E677F868C271AA479CEEB131592EE5450043A932697E6A92C6E164991EFC4268F25A294600B5002A3393B31CC834B972804D2F3A4FD72B928E59219C9C771EC3DC89D1802135C9806802729694A6E723FD6134C0129A019E600");

/***/ }),

/***/ "./src/lib/hexToBin.ts":
/*!*****************************!*\
  !*** ./src/lib/hexToBin.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hexToBin": () => (/* binding */ hexToBin)
/* harmony export */ });
var hexToBin = {
    "0": "0000",
    "1": "0001",
    "2": "0010",
    "3": "0011",
    "4": "0100",
    "5": "0101",
    "6": "0110",
    "7": "0111",
    "8": "1000",
    "9": "1001",
    "A": "1010",
    "B": "1011",
    "C": "1100",
    "D": "1101",
    "E": "1110",
    "F": "1111",
};



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!*************************!*\
  !*** ./src/day16/02.ts ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var hexToBin = (__webpack_require__(/*! ../lib/hexToBin */ "./src/lib/hexToBin.ts").hexToBin);
var text = __webpack_require__(/*! ./input.txt */ "./src/day16/input.txt");
var charArr = text.default.split("");
var binInput = charArr.map(function (char) { return hexToBin[char]; }).join("");
function parseBin(bin) {
    if (bin.length < 11)
        return null;
    var input = __spreadArray([], bin.split(""), true);
    var version = parseInt(input.slice(0, 3).join(""), 2);
    var typeID = parseInt(input.slice(3, 6).join(""), 2);
    input.splice(0, 6);
    // Literal value
    if (typeID === 4) {
        var bitArr = [];
        while (true) {
            bitArr.push(input.slice(1, 5).join(""));
            if (input[0] === "0") {
                input.splice(0, 5);
                return { version: version, typeID: typeID, binLength: (bitArr.length * 5) + 6, payload: parseInt(bitArr.join(""), 2) };
            }
            input.splice(0, 5);
        }
    }
    // Operator packet
    else {
        var lengthTypeID = input.shift();
        var packetArr = [];
        var binLength = void 0;
        if (lengthTypeID === "0") {
            var subPackBinLength = parseInt(input.splice(0, 15).join(""), 2);
            while (subPackBinLength > 0) {
                var result = parseBin(input.slice(0, subPackBinLength).join(""));
                packetArr.push(result);
                subPackBinLength -= result.binLength;
                input.splice(0, result.binLength);
            }
            binLength = packetArr.reduce(function (a, b) { return a + b.binLength; }, 0) + 22;
        }
        else {
            var numberOfSubPackets = parseInt(input.splice(0, 11).join(""), 2);
            while (numberOfSubPackets > 0) {
                var result = parseBin(input.join(""));
                input.splice(0, result.binLength);
                packetArr.push(result);
                numberOfSubPackets--;
            }
            binLength = packetArr.reduce(function (a, b) { return a + b.binLength; }, 0) + 18;
        }
        return { version: version, typeID: typeID, children: packetArr, binLength: binLength, payload: evalChildren(packetArr, typeID) };
    }
}
function evalChildren(arr, typeID) {
    switch (typeID) {
        case 0:
            return arr.reduce(function (p, c) { return p + c.payload; }, 0);
        case 1:
            return arr.reduce(function (p, c) { return p * c.payload; }, 1);
        case 2:
            return arr.reduce(function (p, c) { return Math.min(p, c.payload); }, Infinity);
        case 3:
            return arr.reduce(function (p, c) { return Math.max(p, c.payload); }, 0);
        case 5:
            return arr[0].payload > arr[1].payload ? 1 : 0;
        case 6:
            return arr[0].payload < arr[1].payload ? 1 : 0;
        case 7:
            return arr[0].payload === arr[1].payload ? 1 : 0;
        default:
            return null;
    }
}
parseBin(binInput);
console.log("output:", parseBin(binInput));


})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDLE9BQU8sQ0FBQyxFQUF0QixDQUFzQixFQUFFLFFBQVEsQ0FBQztRQUMvRSxLQUFLLENBQUM7WUFDRixPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBQyxDQUFRLEVBQUUsQ0FBUSxJQUFLLFdBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBdEIsQ0FBc0IsRUFBRSxDQUFDLENBQUM7UUFDeEUsS0FBSyxDQUFDO1lBQ0YsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxLQUFLLENBQUM7WUFDRixPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xELEtBQUssQ0FBQztZQUNGLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQ7WUFDSSxPQUFPLElBQUk7S0FDbEI7QUFDTCxDQUFDO0FBRUQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWR2ZW50MjAyMS8uL3NyYy9kYXkxNi9pbnB1dC50eHQiLCJ3ZWJwYWNrOi8vYWR2ZW50MjAyMS8uL3NyYy9saWIvaGV4VG9CaW4udHMiLCJ3ZWJwYWNrOi8vYWR2ZW50MjAyMS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hZHZlbnQyMDIxL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hZHZlbnQyMDIxL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYWR2ZW50MjAyMS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2FkdmVudDIwMjEvLi9zcmMvZGF5MTYvMDIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIyMjBENjk4MDJCRTAwQTA4MDM3MTFFMTQ0MUIxMDA2RTM5QzMxOEExMjczMEMyMDBEQ0U2NkQyQ0NFMzYwRkEwMDU1NjUyQ0QzMjk2NkUzMDA0Njc3RURGNjAwQjA4MDNCMTM2MTc0MTUxMDA3NjI1NDEzOEQ4QTAwRTRGRkYzRTMzOTNBQkU0RkM3QUMxMDQxMDAxMDc5OUQyQTQ0MzAwMDM3NjREQkUyODE4MDJGMzEwMkNBMDBENDg0MDE5ODQzMEVFMEUwMDAyMUQwNEUzRjQxRjg0QUUwMTU0REZERTY1QTE3Q0NCRkFGQTE0QURBNTY4NTRGRTVFM0ZENUJDQzUzQjBEMjU5ODAyN0EwMDg0OEM2M0YyQjkxOEM3RTUxM0RFQzMyOTAwNTFCMzg2N0UwMDlDQ0M1RkU0NkJENTIwMDA3RkU1RThBRDM0NEIzNzU4M0QwODAzRTQwMDg1NDc1ODg3MTQ0QzAxQThDMTBGRTJCOTgwM0IwNzIwRDQ1QTMwMDQ2NTJGRDhGQTA1RjgwMTIyQ0FGOTFFNUY1MEU2NkJFRjhBQjAwMEJCMEY0ODAyMDM5QzIwOTE3QjkyMEI5MjIxMjAwQUJGMDAxN0I5QzkyQ0NEQzc2QkQzQThDNDAxMkNDQjEzQ0IyMkNEQjI0M0U5QzNEMjAwMjA2NzQ0MDQwMEQ5QkU2MkRBQzREMkRDMDI0OUJGNzZCNkY3MkJFNDU5QjI3OUY3NTlBRTdCRTQyRTAwNTg4MDFDQzA1OUIwODAxOEEwMDcwMDEyQ0VDMDQ1QkEwMTAwNkMwM0E4MDAwRDQ2QzAyRkEwMDBBOEVBMDA3MjAwODAwRTAwNjE4MDE4RTAwNDEwMDM0MjIwMDYxODAxRDM2QkYxNzhDMDE3OTZGQzUyQjQwMTcxMDA3NjM1NDdFODYwMDAwODRDN0U4OTEwQUMwMDI3RTlCMDI5RkUyRjQ5NTJGOTZEODFCMzRDODQwMEMyNEFBOENEQUY0RjFFOTgwMjdDMDBGQUNERTNCQTg2OTgyNTcwRDEzQUE2NDAxOTVDRDY3QjA0NkYwMDQ2NjI3MTFFOTg5QzQ2OEMwMUYxMDA3QTEwQzRDODMyMDAwODc0MjI4NzExN0M0MDFBOEM3MTVBM0ZDMkM4RUIzNzc3NTQwMDQ4MjcyREZFN0RFMUMwMTQ5QUM4QkM5RTc5RDYzMjAwQjY3NDAxMzk3OEU4QkU1RTNBMkU5QUEzQ0NERDUzOEMwMTE5M0NGQUIwQTE0NjAwNkFBMDAwODdDM0U4OEIxMzA0MDFEOEUzMDRBMjM5ODAyRjM5RkFDOTIyQzAxNjlFQTMyNDhERjJENjAwMjQ3Qzg5QkNERkU5Q0E3RkZEOEJCNDk2ODYyMzZDOUZGOTc5NUQ4MEMwMTM5QkVDNEQ2QzAxNzk3OENGNzhDNUVCOTgxRkNFN0Q0RDgwMUZBOUZCNjNCMTQ3ODk1MzQ1ODQwMTBCNTgwMkYzNDY3MzQ2RDJDMUQxRTA4MDM1NUIwMDQyNEZDOTkyOTBDN0U1RDcyOTU4NjUwNDgwM0EyRDAwNUU2NzdGODY4QzI3MUFBNDc5Q0VFQjEzMTU5MkVFNTQ1MDA0M0E5MzI2OTdFNkE5MkM2RTE2NDk5MUVGQzQyNjhGMjVBMjk0NjAwQjUwMDJBMzM5M0IzMUNDODM0Qjk3MjgwNEQyRjNBNEZENzJCOTI4RTU5MjE5QzlDNzcxRUMzREM4OUQxODAyMTM1Qzk4MDY4MDI3Mjk2OTRBNkU3MjNGRDYxMzRDMDEyOUEwMTlFNjAwXCI7IiwiaW50ZXJmYWNlIEhhc2gge1xuICAgIFtrZXk6c3RyaW5nXTogc3RyaW5nO1xufVxuXG5jb25zdCBoZXhUb0JpbjpIYXNoID0ge1xuICAgIFwiMFwiOiBcIjAwMDBcIixcbiAgICBcIjFcIjogXCIwMDAxXCIsXG4gICAgXCIyXCI6IFwiMDAxMFwiLFxuICAgIFwiM1wiOiBcIjAwMTFcIixcbiAgICBcIjRcIjogXCIwMTAwXCIsXG4gICAgXCI1XCI6IFwiMDEwMVwiLFxuICAgIFwiNlwiOiBcIjAxMTBcIixcbiAgICBcIjdcIjogXCIwMTExXCIsXG4gICAgXCI4XCI6IFwiMTAwMFwiLFxuICAgIFwiOVwiOiBcIjEwMDFcIixcbiAgICBcIkFcIjogXCIxMDEwXCIsXG4gICAgXCJCXCI6IFwiMTAxMVwiLFxuICAgIFwiQ1wiOiBcIjExMDBcIixcbiAgICBcIkRcIjogXCIxMTAxXCIsXG4gICAgXCJFXCI6IFwiMTExMFwiLFxuICAgIFwiRlwiOiBcIjExMTFcIixcbn1cblxuZXhwb3J0IHsgaGV4VG9CaW4gfSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiY29uc3QgeyBoZXhUb0JpbiB9ID0gcmVxdWlyZSgnLi4vbGliL2hleFRvQmluJyk7XG5cbmNvbnN0IHRleHQgPSByZXF1aXJlKCcuL2lucHV0LnR4dCcpO1xuZXhwb3J0IHt9XG5cbmludGVyZmFjZSBQYWNrZXQge1xuICAgIHZlcnNpb246IG51bWJlcjtcbiAgICB0eXBlSUQ6IG51bWJlcjtcbiAgICBwYXlsb2FkPzogbnVtYmVyO1xuICAgIGNoaWxkcmVuPzogUGFja2V0W107XG4gICAgYmluTGVuZ3RoPzogbnVtYmVyO1xufVxuXG5jb25zdCBjaGFyQXJyID0gdGV4dC5kZWZhdWx0LnNwbGl0KFwiXCIpO1xuY29uc3QgYmluSW5wdXQgPSBjaGFyQXJyLm1hcCgoY2hhcjpzdHJpbmcpID0+IGhleFRvQmluW2NoYXJdKS5qb2luKFwiXCIpO1xuXG5mdW5jdGlvbiBwYXJzZUJpbihiaW46c3RyaW5nKTpQYWNrZXQge1xuICAgIGlmIChiaW4ubGVuZ3RoIDwgMTEpIHJldHVybiBudWxsO1xuICAgIGxldCBpbnB1dCA9IFsuLi5iaW4uc3BsaXQoXCJcIildXG4gICAgbGV0IHZlcnNpb24gPSBwYXJzZUludChpbnB1dC5zbGljZSgwLCAzKS5qb2luKFwiXCIpLCAyKTtcbiAgICBsZXQgdHlwZUlEID0gcGFyc2VJbnQoaW5wdXQuc2xpY2UoMywgNikuam9pbihcIlwiKSwgMik7XG4gICAgaW5wdXQuc3BsaWNlKDAsIDYpO1xuXG4gICAgLy8gTGl0ZXJhbCB2YWx1ZVxuICAgIGlmICh0eXBlSUQgPT09IDQpIHtcbiAgICAgICAgY29uc3QgYml0QXJyID0gW11cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGJpdEFyci5wdXNoKGlucHV0LnNsaWNlKDEsIDUpLmpvaW4oXCJcIikpXG4gICAgICAgICAgICBpZiAoaW5wdXRbMF0gPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuc3BsaWNlKDAsIDUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7dmVyc2lvbiwgdHlwZUlELCBiaW5MZW5ndGg6IChiaXRBcnIubGVuZ3RoICogNSkgKyA2LCBwYXlsb2FkOiBwYXJzZUludChiaXRBcnIuam9pbihcIlwiKSwgMil9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5zcGxpY2UoMCwgNSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPcGVyYXRvciBwYWNrZXRcbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoVHlwZUlEID0gaW5wdXQuc2hpZnQoKTtcbiAgICAgICAgY29uc3QgcGFja2V0QXJyID0gW11cbiAgICAgICAgbGV0IGJpbkxlbmd0aDtcblxuICAgICAgICBpZiAobGVuZ3RoVHlwZUlEID09PSBcIjBcIikge1xuICAgICAgICAgICAgbGV0IHN1YlBhY2tCaW5MZW5ndGggPSBwYXJzZUludChpbnB1dC5zcGxpY2UoMCwgMTUpLmpvaW4oXCJcIiksIDIpO1xuICAgICAgICAgICAgd2hpbGUgKHN1YlBhY2tCaW5MZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHBhcnNlQmluKGlucHV0LnNsaWNlKDAsIHN1YlBhY2tCaW5MZW5ndGgpLmpvaW4oXCJcIikpXG4gICAgICAgICAgICAgICAgcGFja2V0QXJyLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBzdWJQYWNrQmluTGVuZ3RoIC09IHJlc3VsdC5iaW5MZW5ndGg7XG4gICAgICAgICAgICAgICAgaW5wdXQuc3BsaWNlKDAsIHJlc3VsdC5iaW5MZW5ndGgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5MZW5ndGggPSBwYWNrZXRBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYi5iaW5MZW5ndGgsIDApICsgMjI7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBudW1iZXJPZlN1YlBhY2tldHMgPSBwYXJzZUludChpbnB1dC5zcGxpY2UoMCwgMTEpLmpvaW4oXCJcIiksIDIpO1xuICAgICAgICAgICAgd2hpbGUgKG51bWJlck9mU3ViUGFja2V0cyA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcGFyc2VCaW4oaW5wdXQuam9pbihcIlwiKSk7XG4gICAgICAgICAgICAgICAgaW5wdXQuc3BsaWNlKDAsIHJlc3VsdC5iaW5MZW5ndGgpO1xuICAgICAgICAgICAgICAgIHBhY2tldEFyci5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZTdWJQYWNrZXRzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5MZW5ndGggPSBwYWNrZXRBcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYi5iaW5MZW5ndGgsIDApICsgMTg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt2ZXJzaW9uLCB0eXBlSUQsIGNoaWxkcmVuOiBwYWNrZXRBcnIsIGJpbkxlbmd0aCwgcGF5bG9hZDogZXZhbENoaWxkcmVuKHBhY2tldEFyciwgdHlwZUlEKX1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGV2YWxDaGlsZHJlbihhcnI6UGFja2V0W10sIHR5cGVJRDpudW1iZXIpOm51bWJlciB7XG4gICAgc3dpdGNoKHR5cGVJRCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZSgocDpudW1iZXIsIGM6UGFja2V0KSA9PiBwICsgYy5wYXlsb2FkLCAwKVxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZSgocDpudW1iZXIsIGM6UGFja2V0KSA9PiBwICogYy5wYXlsb2FkLCAxKVxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gYXJyLnJlZHVjZSgocDpudW1iZXIsIGM6UGFja2V0KSA9PiBNYXRoLm1pbihwLCBjLnBheWxvYWQpLCBJbmZpbml0eSlcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIGFyci5yZWR1Y2UoKHA6bnVtYmVyLCBjOlBhY2tldCkgPT4gTWF0aC5tYXgocCwgYy5wYXlsb2FkKSwgMClcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuIGFyclswXS5wYXlsb2FkID4gYXJyWzFdLnBheWxvYWQgPyAxIDogMFxuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gYXJyWzBdLnBheWxvYWQgPCBhcnJbMV0ucGF5bG9hZCA/IDEgOiAwXG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIHJldHVybiBhcnJbMF0ucGF5bG9hZCA9PT0gYXJyWzFdLnBheWxvYWQgPyAxIDogMFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG59XG5cbnBhcnNlQmluKGJpbklucHV0KTtcbmNvbnNvbGUubG9nKFwib3V0cHV0OlwiLCBwYXJzZUJpbihiaW5JbnB1dCkpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==